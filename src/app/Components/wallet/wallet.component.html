
<div class="wallet">
<header class="header">
    <div class="back-icon" (click)="goBack()">
      <i class="fas fa-chevron-left"></i>
    </div>
    <div class="head">
      <p>Wallet</p>
    </div>
    <div class="balance" [ngClass]="{ 'zero-balance': currentBalance === 0, 'positive-balance': currentBalance > 0 }">
      Balance: <br>
    <p>  ₹{{ currentBalance }}</p>
    </div>
  </header>
   
  
  <div class="select">
    <div class="autopay">
      <label class="radio-leb">
        <input type="radio" [(ngModel)]="selectedOption" value="Setup autopay">
        <h6>Setup autopay</h6>
      </label>
      <div *ngIf="selectedOption === 'Setup autopay'" class="autopay-section">
        <div class="current">
         <h5> ₹{{ Balance }}</h5>
        </div>
        <div class="top">
          <div class="one" [class.selected]="selectedAmount === 1500" (click)="selectAmount(1500)">
            <p> ₹1500</p>
          </div>
          <div class="two" [class.selected]="selectedAmount === 8250" (click)="selectAmount(8250)">
            <p> ₹8250</p>
          </div>
          <div class="three" [class.selected]="selectedAmount === 15000" (click)="selectAmount(15000)">
            <p> ₹15000</p>
          </div>
        </div>
        <div class="text">
          <p>It will recharge automatically when your wallet balance goes below <span>₹100</span></p>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="recharge">
    
    <label class="radio-leb">
      <input type="radio" [(ngModel)]="selectedOption" value="recharge">
      <h6>Recharge Once</h6>
    </label>
  
  
    <!-- Recharge section -->
    <div *ngIf="selectedOption === 'recharge'" class="recharge-section">
      <!-- Recharge content -->
      <div class="emit">
        <div class="current1">
          ₹{{ ReBalance }} 
        </div>
        <div class="truth">Get flat Rs.500 Cashback</div>
      </div>
        <div class="top">
          <div class="one" [class.selected]="selectedAmount === 1500" (click)="selectAmount(1500)">
            <p> ₹1500</p>
          </div>
          <div class="two" [class.selected]="selectedAmount === 8250" (click)="selectAmount(8250)">
            <p> ₹8250</p>
          </div>
          <div class="three" [class.selected]="selectedAmount === 15000" (click)="selectAmount(15000)">
            <p> ₹15000</p>
          </div>
        </div>
      <div class="take">
        <p>Recommended Offers</p>
      </div>
      <div class="container">
        <div class="rain">
          <div class="app">
            <h4>Rs 5000 Offer</h4>
            <p>Get flat Rs. 500 cashback</p>
          </div>
          <div class="app1" (click)="removeSection('rain')">X</div>
        </div>
        <div class="rain1">
          <div class="app">
            <h4>Rs 500 Offer</h4>
            <p>Get flat Rs. 100 cashback</p>
          </div>
          <div class="app2" (click)="removeSection('rain1')">APPLY</div>
        </div>
      </div>
      <div class="code" (click)="openNamePopup()">
        <p>Have a coupon code?</p>
      </div>
  
      <!-- Coupon code modal -->
      <div *ngIf="showNamePopup" class="modal-overlay" (click)="closeNamePopup()">
        <div class="modal-content" (click)="$event.stopPropagation()">
          <p>Have a coupon code?</p>
          <input [(ngModel)]="couponCode" placeholder="Enter coupon code..."/>
          <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
          <button class="confirm-button" (click)="saveName()">Apply</button>
        </div>
      </div>
    </div>
  </div>
  

  
  
    <ngb-carousel *ngIf="images && images.length > 0">
      <ng-template ngbSlide>
        <div class="logo">
          <img src="https://media.geeksforgeeks.org/wp-content/uploads/20231031171317/10-Best-UPI-Apps-for-Cashback-in-2023.webp" alt="" />
        </div>
      </ng-template>
      <ng-template ngbSlide>
        <div class="logo">
          <img src="https://d6xcmfyh68wv8.cloudfront.net/blog-content/uploads/2020/07/UPI-autopay-razorpay.png" alt="" />
        </div>
      </ng-template>
    </ngb-carousel>


    <div *ngIf="selectedAmount" class="confirmation">
      <p>Autopay offer applied, cashback of ₹150</p>
      <div class="celebration-animation">
  
      </div>
  
  <div class="address-price">
    <button class="add-address" [routerLink]="['/payment']"  (click)="payAmount()">Pay ₹{{ selectedAmount }}</button>
  </div>
</div>